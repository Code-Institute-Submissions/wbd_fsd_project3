# Full Stack Development Milestone Project #3

"Quotations.Space!"

WEB SITE

<< CLONE THE EXISTING ONES AND THE EXISTING HEROKU APP BEFORE SUBMITTING>>
Name in the style of FSD1 and FSD2

Git Repositories

<< CLONE THE EXISTING ONES AND THE EXISTING HEROKU APP BEFORE SUBMITTING>>

<< ALSO USE THIS TO TEST THE DEPLOY INSTRUCTIONS>>


## Bill Davis
### bill.davis@gmail.com
### +1 (515) 999-0622


## Reasoning for the project

For several decades now I have used a "quotations" database to learn how to program on a variety of systems, from OpenVMS DCL 
command line on VAX and Alpha minicomputers, to Visual Basic 6 and VB.NET / Visual Studio IDEs to create desktop apps on Windows, 
to Java desktop apps (jar) on Windows and Mac (including a stand-alone desktop app on the Mac) and then on to JavaServer Pages using 
Eclipse.  This allows me to learn how to use the basic CRUD concepts on a particular platform.  Over the years I have collected
 thousands of quotes to use as well.  

So of course, I wanted to do the same thing when taking this course on modern full-stack web development from Code Institute. 

I realized quickly that the Task Manager miniproject that is developed as you go through the Data Centric Development module of the FSD course would be a perfect fit for my Quotations project, so I actually started developing it in parallel as the course went through the mini-project, though I also started adapting and modifying it for my needs.  For example, I added a search feature and some sorting of the databases (quotations sorted by person's name, categories sorted by category name) as well as data itemus such as "favorite" (instead of urgent), source of the quote, star rating (1-5), date said, a link to a photo from Wikimedia Commons, etc. 

I wanted both a "favorites" and a "star rating" system for quotes, and the ability to share quotes via email (possibly other means such as texting, copy-and-paste, etc later) and to "meme" the quote onto an image background. I was not able to implement all of those features as time allows, but I will in the future as a platform to practice and expand what I am learning. I may actually make the site look more like Google at some point - start out with just a search field. That's what I did when I developed a web app using Java Server Pages, for example. I have registered the domain name "quooqle" (Q's not G's) but am not sure if I want to use it. Google has more money for lawyers than I do!  So I also reqistered quotation.space and quotations.space long before I started this project (the later is the plural of the former.).  I plan to hook those up to this site eventually. 

I'll be continuing to develop this project after I have finished the Code Institute Course for personal use and perhaps as a side business.  

# USER STORIES

<< add here>>

# MOCKUPS / WIREFRAMES 

<< create wireframes folder on repo and copy pics up >>


# DEPLOYMENT

NOTE: This project started from the Code Institute student template for Gitpod which preinstalls most of the tools needed for basic 
development

*REQUIREMENTS*

- Python 3
- Git 
- A GitHub free (or paid) account
- A Heroku free account (or paid, some other hosting environment, if you want -- you're on your own there, though)
- MongoDB free (or paid) account

- Python Frameworks
    - Flask
    - PyMongo (flask-pymongo)
    - dnspython

- Materialize CSS Framework 
- jQuery JavaScript framework

As of this writing, the requirements.txt file lists the following Python frameworks and versions.
Some are additional rameworks used by the ones listed above:

- click==7.1.2
- dnspython==1.16.0
- Flask==1.1.2
- Flask-PyMongo==2.3.0
- itsdangerous==1.1.0
- pymongo==3.10.1
- Werkzeug==1.0.1

NOTE: These are not necesssarily the latest versions of these frameworks. 

## SETUP PROCESS

- Create a free MongoDB Atlas account and set up a database

    https://www.mongodb.com/cloud/atlas/signup

    Set a database and the following collections:

    DATABASE STRUCTURE

        Database: quotations_space
        
            Collections:

                quotations
                    _id (autogenerated)
                    category_name               String
                    quotation_text              String
                    person                      String
                    source                      String 
                    date_said                   String
                    stars_rating                String
                    is_favorite                 String
                    wikicommons_photo           String
                    wikicommons_attribution     String
                    wikipedia_bio               String

                categories
                    category_name               String

                In future I will create a "persons" collection and move the 
                    wiki& fields to that, and look up information from it
                    using the "person" name, as we do for categories. 

    - dd a few quotes in manually to thease collectons and give the quotes a category from the categories collection. 

    - If you want to use the MondoDB test database I used to develop and test this site, contact me and I'll send you the connection string. 

- Set up a GitPod free account

    - If you want to use some other environment, feel free, of course, but these instructions assume GitPod and GitHub and Heroku.

- Set up a Heroku account.  

    - If you want to use some other web app hosting environment or host it locally you may, but these instructions assume hosting on Heroku. 


- Clone or copy the Quotations.Space! project into your GitPod project. 

    - << add GitHub URL for final submitted project here> - << clone this to a FSB_Milestone_Project_3 repo and replace this URL 
    BEFORE submitting this project. >>

- install the following frameworks from the GitPod command line:

    $ pip3 install flask
    $ pip3 install flask-pymongo
    $ pip3 install dnspython

- Create the Heroku Requirements pip3 freeze > requirements.txt file if needed at the root directory of the project:

    - $ pip3 freeze > requirements.txt

- Create the Heroku Procfile if needed at the root directory of the project

    - $ echo web: python app.py >Procfile

- Other Heroku setup (if you're using it)

    - $ heroku login
    - $ heroku ps:scale web=1

- Set up the needed environment variables in GitPod or your IDE
    
    - See https://www.gitpod.io/docs/environment-variables/ for info on how to do that

    IP = 0.0.0.0
    PORT = 5001
    QS_MONGO_URI=  (the address for your Mongo database screated earlier
    
    << add how to get the path to the Mongo database >>

- Set up environment variables in Heroku (or your own environment if not)
    - IP=0.0.0.0. (may be provided by web/app server)
    - PORT=5001   (may be provided by web/app server)
    - QS_MONGO_URI   

These IP addresess are set up in the Heroku web app for a particular app under Settings in the "Config Vars" section.


## Starting up the Project 

To run a local copy of the site on GitPod, type:

- $ python3 app.py

A blue button should appear to click: *Make Public*,

Another blue button should appear to click: *Open Browser*.

In Gitpod you have superuser security privileges by default. Therefore you do not need to use the `sudo` (superuser do) command in 
the bash terminal.


## TEST PLAN

### Testing environments

- Mac OS X (MacBook Pro and iMac)
- iPhone smartphone ()
- iPad tablet

NOTE: I do not have access to Android or Windows or Linux equipment to test on at this time.  I cannot test on Windows at work because Heroku is blocked and we are not allowed
to install software on our machines.


### TESTS

Problems should be logged in in the Issues tab on the GitHub repo.

- Test that the site and all pages looks and functions well on all platforms.
    - On desktop PC, test using different window widths and heights
    - On smartphones and tablets, test in both portrait and landscape orientation.

- Add new quotes, test all the fields
    - Add stars with values from 0 to 5 as well as fractions such as 
        - 0.5, 1.5 ... 4.5, 5.0
        - Also try other franctions besides .5
        - Also try integers other than 0,1,2,3,4,5 

    - Most of the database fields are plain text so little validation is needed, and leaving them blank is ok in most cases, though
    you are unlikely to do so except perhaps for the Date Said and Source of the quote; you often won't know either. 


### CODE VALIDATION

The GitPod IDE has linters/validators for HTML, CSS, JavaScript, Python etc.  Because this code uses Flask and Jinja templates, though, 
many of the HTML templates are fragments of HTML and so don't entirely validate and have tagged {% %} code lines.  For those you simply 
have to keep an eye on the "Problems" tab in the GitPod IDE and see if anything shows up beyond a few errors you'll always get on the 
template HTML files. which are:

- Doctype must be declared first   
    - (the templates don't start with HTML tags because those are only in the base.html template)
- The id value [is_favorite] must be unique 
    - (or similar - this is an example of HTML surrounded by {% if %} block so. that we can display a checkbox as checked or not)

I also keep an eye on the last tag in teh template HTML files as it will often be flagged as a problem if you have unbalanced open/close tags somewhere.

The validator for Python flags long lines, as well, and this is a good way to clarify long, complicated lines into several simpler, cleaner, clearer lines.
The example miniproject "Task Manager" frankly had a number of those.  Indenting helped make they clearer, but refactoring into separate lines
with a single clear purpose also made for better code.



## ATTRIBUTIONS / CREDITS / ACKNOWLEDGEMENTS

- This project started from the Code Institute student template for Gitpod which preinstalls most of the tools needed for basic development.

- It also was adapted from the Task Manager mini-project created in the course, modified heavily to change the GUI and add additional functions such as searching. 
 
- The CSS framework used for the site is MaterializeCSS
    - https://materializecss.com/
    - http://archives.materializecss.com/0.100.2/about.html

- Third party Python frameworks used are:
    - Flask                 https://palletsprojects.com/p/flask/
    - flask-pymongo         https://pypi.org/project/pymongo/ 
    - dnspython
    And the frameworks they in turn might use; see the requirements.txt file (or generate it)

- Third party JavaScript frameworks
    - jQuery      https://jquery.com/

- Development Tools
    - GitPod integrated development environment     https://www.gitpod.io/
    - GitHub code repository                        https://www.github.com/
    - Python language                               https://www.python.org/
    - Mongo Database                                https://www.mongodb.com/
     
 - The animated starfield behind the page header is from WikiMedia Commons
    - https://commons.wikimedia.org/wiki/File:StarfieldSimulation.gif
    - https://upload.wikimedia.org/wikipedia/commons/e/e4/StarfieldSimulation.gif

